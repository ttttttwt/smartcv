{% extends "base.html" %} {% block title %}Đăng nhập - Smart CV{% endblock %} {%
block content %}
<div
  class="min-h-screen lg:min-h-[90vh] bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"
>
  <div class="max-w-md w-full">
    <!-- Logo & Header -->
    <div class="text-center mb-8">
      <div
        class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-indigo-600 rounded-2xl shadow-lg mb-4"
      >
        <i class="fa-solid fa-user text-white text-2xl"></i>
      </div>
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Chào mừng trở lại</h1>
      <p class="text-gray-600">Đăng nhập để tiếp tục tạo CV của bạn</p>
    </div>

    <!-- Login Form -->
    <div class="bg-white rounded-3xl shadow-xl p-8 border border-gray-100">
      <form class="space-y-6" action="/login" method="POST">
        <!-- Email Field -->
        <div class="space-y-1">
          <label
            for="email"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            Email
          </label>
          <div class="relative">
            <div
              class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
            >
              <i class="fas fa-envelope text-gray-400"></i>
            </div>
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              class="block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 hover:border-gray-300"
              placeholder="Nhập email của bạn"
            />
          </div>
        </div>

        <!-- Password Field -->
        <div class="space-y-1">
          <label
            for="password"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            Mật khẩu
          </label>
          <div class="relative">
            <div
              class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
            >
              <i class="fas fa-lock text-gray-400"></i>
            </div>
            <input
              id="password"
              name="password"
              type="password"
              autocomplete="current-password"
              required
              class="block w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 hover:border-gray-300"
              placeholder="Nhập mật khẩu"
            />
            <button
              type="button"
              class="absolute inset-y-0 right-0 pr-3 flex items-center"
              onclick="togglePassword()"
            >
              <i
                id="passwordToggleIcon"
                class="fas fa-eye text-gray-400 hover:text-gray-600 cursor-pointer"
              ></i>
            </button>
          </div>
        </div>

        <!-- Remember & Forgot -->
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <input
              id="remember_me"
              name="remember_me"
              type="checkbox"
              class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"
            />
            <label for="remember_me" class="ml-2 block text-sm text-gray-700">
              Ghi nhớ đăng nhập
            </label>
          </div>
          <div class="text-sm">
            <a
              href="/forgot-password"
              class="font-medium text-primary hover:text-indigo-600 transition-colors"
            >
              Quên mật khẩu?
            </a>
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-primary to-indigo-600 hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl"
        >
          <span class="absolute left-0 inset-y-0 flex items-center pl-3">
            <i
              class="fas fa-sign-in-alt text-blue-200 group-hover:text-white transition-colors"
            ></i>
          </span>
          Đăng nhập
        </button>

        <!-- Divider -->
        <div class="relative my-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-200"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-4 bg-white text-gray-500">Hoặc tiếp tục với</span>
          </div>
        </div>

        <!-- Social Login -->
        <div class="grid grid-cols-2 gap-3">
          <button
            type="button"
            class="w-full inline-flex justify-center items-center py-3 px-4 border border-gray-200 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 hover:scale-[1.02]"
          >
            <i class="fab fa-google text-red-500 mr-2"></i>
            Google
          </button>
          <button
            type="button"
            class="w-full inline-flex justify-center items-center py-3 px-4 border border-gray-200 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 hover:scale-[1.02]"
          >
            <i class="fab fa-microsoft text-blue-600 mr-2"></i>
            Microsoft
          </button>
        </div>
      </form>
    </div>

    <!-- Register Link -->
    <div class="mt-6 text-center">
      <p class="text-gray-600">
        Chưa có tài khoản?
        <a
          href="/register"
          class="font-medium text-primary hover:text-indigo-600 transition-colors"
        >
          Đăng ký ngay
        </a>
      </p>
    </div>
  </div>
</div>
{% endblock %} {% block scripts %}
<script>
  // Password toggle functionality
  function togglePassword() {
    const passwordInput = document.getElementById("password");
    const toggleIcon = document.getElementById("passwordToggleIcon");

    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      toggleIcon.classList.remove("fa-eye");
      toggleIcon.classList.add("fa-eye-slash");
    } else {
      passwordInput.type = "password";
      toggleIcon.classList.remove("fa-eye-slash");
      toggleIcon.classList.add("fa-eye");
    }
  }

  // Form validation with better UX
  document.querySelector("form").addEventListener("submit", function (e) {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value;

    if (!email || !password) {
      e.preventDefault();
      showNotification("Vui lòng điền đầy đủ thông tin", "error");
      return;
    }

    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
      e.preventDefault();
      showNotification("Email không hợp lệ", "error");
      return;
    }
  });

  // Input focus effects
  document
    .querySelectorAll('input[type="email"], input[type="password"]')
    .forEach((input) => {
      input.addEventListener("focus", function () {
        this.parentElement.classList.add(
          "ring-2",
          "ring-primary",
          "ring-opacity-50"
        );
      });

      input.addEventListener("blur", function () {
        this.parentElement.classList.remove(
          "ring-2",
          "ring-primary",
          "ring-opacity-50"
        );
      });
    });

  // Simple notification function
  function showNotification(message, type = "info") {
    const notification = document.createElement("div");
    notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ${
      type === "error" ? "bg-red-500 text-white" : "bg-blue-500 text-white"
    }`;
    notification.textContent = message;
    document.body.appendChild(notification);

    setTimeout(() => {
      notification.remove();
    }, 3000);
  }
</script>
{% endblock %}
